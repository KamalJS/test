version: 2.1

defaults: &defaults
  working_directory: ~/repo
  docker:
    - image: circleci/clojure:tools-deps-1.9.0.381

jobs:
  test:
    <<: *defaults

    steps:
      - checkout

      - cache/clj:
          steps:
            - run: clojure -A:test

workflows:
  version: 2
  ci-workflow:
    jobs:
      - test